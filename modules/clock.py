from datetime import datetime

from basemod import BaseModule

class Clock(BaseModule):
    def __init__(self, *, format:str, **kwargs):
        self.format=format
        super().__init__(**kwargs)
        
    def __call__(self):
        # return datetime.now().strftime(self.format)
        now = datetime.now()
        if now.second%2:
            return join_font(bigFont, now.strftime("%H:%M"))
        else:
            return join_font(bigFont, now.strftime("%H %M"))
    
widget = Clock


def join_font(font:dict[str,list[str]], string:str):
    rows = len(font['1'])
    out = ""
    for r in range(rows):
        for c in string:
            out += font[c][r]
        out += '\n'
    return out


digitalFont = {
    "1": ["▄█ ", " █ ", "▄█▄"],
    "2": ["█▀█", " ▄▀", "█▄▄"],
    "3": ["█▀▀█", "  ▀▄", "█▄▄█"],
    "4": [" █▀█ ", "█▄▄█▄", "   █ "],
    "5": ["█▀▀", "▀▀▄", "▄▄▀"],
    "6": ["▄▀▀▄", "█▄▄ ", "▀▄▄▀"],
    "7": ["▀▀▀█", "  █ ", " ▐▌ "],
    "8": ["▄▀▀▄", "▄▀▀▄", "▀▄▄▀"],
    "9": ["▄▀▀▄", "▀▄▄█", " ▄▄▀"],
    "0": ["█▀▀█", "█  █", "█▄▄█"],
    ":": ["█", " ", "█"],
    " ": [" ", " ", " "],
    "A": ["", "", "AM"],
    "P": ["", "", "PM"],
}





bigFont = {
    "1": [" ┏┓ ", "┏┛┃ ", "┗┓┃ ", " ┃┃ ", "┏┛┗┓", "┗━━┛"],
    "2": ["┏━━━┓", "┃┏━┓┃", "┗┛┏┛┃", "┏━┛┏┛", "┃ ┗━┓", "┗━━━┛"],
    "3": ["┏━━━┓", "┃┏━┓┃", "┗┛┏┛┃", "┏┓┗┓┃", "┃┗━┛┃", "┗━━━┛"],
    "4": ["┏┓ ┏┓", "┃┃ ┃┃", "┃┗━┛┃", "┗━━┓┃", "   ┃┃", "   ┗┛"],
    "5": ["┏━━━┓", "┃┏━━┛", "┃┗━━┓", "┗━━┓┃", "┏━━┛┃", "┗━━━┛"],
    "6": ["┏━━━┓", "┃┏━━┛", "┃┗━━┓", "┃┏━┓┃", "┃┗━┛┃", "┗━━━┛"],
    "7": ["┏━━━┓", "┃┏━┓┃", "┗┛┏┛┃", "  ┃┏┛", "  ┃┃ ", "  ┗┛ "],
    "8": ["┏━━━┓", "┃┏━┓┃", "┃┗━┛┃", "┃┏━┓┃", "┃┗━┛┃", "┗━━━┛"],
    "9": ["┏━━━┓", "┃┏━┓┃", "┃┗━┛┃", "┗━━┓┃", "┏━━┛┃", "┗━━━┛"],
    "0": ["┏━━━┓", "┃┏━┓┃", "┃┃ ┃┃", "┃┃ ┃┃", "┃┗━┛┃", "┗━━━┛"],
    ":": ["   ", "┏━┓", "┗━┛", "┏━┓", "┗━┛", "   "],
    " ": ["   ", "   ", "   ", "   ", "   ", "   "],
    "A": ["", "", "", "", "", "AM"],
    "P": ["", "", "", "", "", "PM"],
}





boldFont = {
    "1": ["██", "██", "██", "██", "██"],
    "2": ["██████", "    ██", "██████", "██    ", "██████"],
    "3": ["██████", "    ██", "██████", "    ██", "██████"],
    "4": ["██  ██", "██  ██", "██████", "    ██", "    ██"],
    "5": ["██████", "██    ", "██████", "    ██", "██████"],
    "6": ["██████", "██    ", "██████", "██  ██", "██████"],
    "7": ["██████", "    ██", "    ██", "    ██", "    ██"],
    "8": ["██████", "██  ██", "██████", "██  ██", "██████"],
    "9": ["██████", "██  ██", "██████", "    ██", "██████"],
    "0": ["██████", "██  ██", "██  ██", "██  ██", "██████"],
    ":": ["  ", "██", "  ", "██", "  "],
    " ": ["  ", "  ", "  ", "  ", "  "],
    "A": ["", "", "", "", "AM"],
    "P": ["", "", "", "", "PM"],
}


